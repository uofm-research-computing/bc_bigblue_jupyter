# Batch Connect app configuration file
#
# @note Used to define the submitted cluster, title, description, and
#   hard-coded/user-defined attributes that make up this Batch Connect app.
---
cluster:
  - "bigblue"
form:
  - modules
  - auto_accounts
  - bc_num_hours
  - bc_num_slots
  - num_cores
<<<<<<< HEAD
  - global_queues
  - ngpus
  - alloc_mem
  - email
=======
  - partitions_list
  - ngpus
  - alloc_mem
  - bc_email_on_started
>>>>>>> ee4f0a4a45a799aaa3ab1bcd4e65889d14db0841
  - user_script
  - singularity_image
  - singularity_run
  - extra_jupyter_args
attributes:
  # Set the corresponding modules that need to be loaded for Jupyter to run
  #
  # @note It is called within the batch job as `module load <modules>` if
  #   defined
  # @example Do not load any modules
  #     modules: ""
  # @example Using default python module
  #     modules: "python"
  # @example Using specific python module
  #     modules: "python/3.5"
  # @example Using combination of modules
  #     modules: "python/3.5 cuda/8.0.44"
  modules: 
    widget: "text_field"
    label: "modules to load"
    value: "python"
    help: |
      Please select modules from "module avail" on the cluster. Use space between each module. For example "python cuda"
  # Any extra command line arguments to feed to the `jupyter notebook ...`
  # command that launches the Jupyter notebook within the batch job
  extra_jupyter_args:
    widget: "text_field"
    label: "Other jupyter notebook arguments"
    value: ""
    help: |
      These are options like "--notebook-dir=/project/username/"
  user_script:
    widget: "text_field"
    label: "User script"
    value: ""
    help: |
      User script to be sourced, such as in a python environment.
      Make sure to use the full path like '/home/username/.bashrc'
  singularity_image:
    widget: "text_field"
    label: "Singularity Image"
    value: ""
    help: |
      Singularity image file (.sif) for singularity containers.
      Make sure to use the full path like '/home/username/jupyter.sif'
  singularity_run:
    widget: "check_box"
    label: "Singularity Run instead of singularity exec"
    value: "false"
    help: |
      Use internal singularity runscript rather than exec calling jupyter notebook directly.
<<<<<<< HEAD
  email:
    label: Email Address
    help: |
      Enter your email address if you would like to receive job notifications (start, finished, failed, etc..).  Otherwise, leave the field empty.

      --------------------------
    cacheable: true
    widget: text_field
=======
>>>>>>> ee4f0a4a45a799aaa3ab1bcd4e65889d14db0841
  alloc_mem:
    widget: "number_field"
    label: "Memory (GB)"
    value: 4
    help: "Memory allocated for job up to 1536 GB"
    min: 4
    max: 1536
    step: 4
  num_cores:
    widget: "number_field"
    label: "Number of cores"
    value: 1
    help: |
      Number of cores on node type (4 GB per core unless requesting whole
      node). Leave blank if requesting full node.
    min: 0
    max: 192
    step: 1
  ngpus:
    widget: "number_field"
    label: "Number of GPUs"
    value: 0
    help: |
      Number of GPUs in either igpuq or agpuq partitions.
    min: 0
    max: 2
    step: 1
  bc_num_slots: "1"
